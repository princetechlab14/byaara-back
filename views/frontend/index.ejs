<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("./partial/head") %>
</head>

<body class="min-h-screen flex flex-col">
    <%- include("./partial/header") %>
        <main class="flex-grow">
            <img src="/byaara_banner.webp" alt="logo" class=" w-full">
            <% products.forEach((product, index)=> { %>
                <div
                    class="flex flex-col md:flex-row <%= index % 2 !== 0 ? 'md:flex-row-reverse' : '' %> items-stretch bg-white p-8 max-w-screen-xl mx-auto gap-4 my-10">

                    <!-- Image Section -->
                    <div class="flex-1 flex justify-center items-center border-3 border-black rounded">
                        <a href="/product/<%= product?.sku %>">
                            <img src="<%= product?.main_image %>" alt="<%= product?.title %>"
                                class="max-h-[500px] w-auto object-contain rounded" />
                        </a>
                    </div>

                    <!-- Content Section -->
                    <div class="flex-1 md:px-7 py-2 flex flex-col justify-center">
                        <a href="/product/<%= product?.sku %>">
                            <h1 class="text-2xl md:text-4xl md:my-3 my-1">
                                <%= product?.title %>
                            </h1>
                        </a>

                        <div class="md:my-3 my-1">
                            <span class="line-through mr-2 text-gray-400 text-lg">Rs. <%= product?.regular_price %>
                            </span>
                            <span class="text-2xl font-bold text-gray-600">Rs. <%= product?.sale_price %></span>
                            <span class="ml-2 bg-black text-white text-xs px-2 py-1 rounded-3xl">Sale</span>
                        </div>

                        <div class="text-gray-600 md:my-3 my-1 text-sm">
                            Taxes included. <a href="#" class="underline">Shipping</a> calculated at checkout.
                        </div>

                        <!-- Pack Options -->
                        <div class="md:my-3 my-1">
                            <span class="text-sm text-gray-400">Net Quantity</span>
                            <div class="mt-2 flex space-x-3">
                                <button
                                    class="pack-btn text-md border border-gray-400 bg-black text-white px-4 py-2 rounded-3xl"
                                    onclick="setQuantity(1, this)">Pack Of 1</button>
                                <button
                                    class="pack-btn text-md border border-gray-400 bg-transparent text-gray-700 hover:bg-gray-900 hover:text-white px-4 py-2 rounded-3xl"
                                    onclick="setQuantity(2, this)">Pack Of 2</button>
                            </div>
                        </div>

                        <!-- Quantity Selector -->
                        <div class="md:my-3 my-1">
                            <span class="text-sm text-gray-400">Quantity (1 in cart)</span>
                            <div class="mt-2 flex justify-between md:justify-start md:space-x-3 border md:w-32 w-full">
                                <button class="p-2 rounded-l text-xl decrement cursor-pointer">-</button>
                                <input type="number" value="1" min="1" class="w-12 text-center outline-none quantity" />
                                <button class="p-2 rounded-r text-xl increment cursor-pointer">+</button>
                            </div>
                        </div>

                        <!-- Trigger Button -->
                        <div class="relative inline-flex items-center group md:my-3 my-2">
                            <div
                                class="absolute inset-0 opacity-60 transition-all duration-1000 rounded-xl filter group-hover:opacity-100 group-hover:duration-200">
                            </div>
                            <button onclick="buyNow({
                                id: '<%= product.id %>',
                                title: '<%= product.title %>',
                                price: '<%= product.sale_price %>',
                                image: '<%= product.main_image %>',
                                quantity: document.querySelector('.quantity')?.value || 1
                                })"
                                class="group relative flex items-center text-left text-base rounded-xl bg-orange-500 md:px-8 md:py-4 px-3 py-1 font-semibold text-white transition-all duration-200 hover:bg-orange-500 hover:-translate-y-0.5 border-4 border-black cursor-pointer">
                                <svg class="w-8 h-8 mr-4 flex-shrink-0" fill="none" stroke="currentColor"
                                    stroke-width="2" viewBox="0 0 24 24">
                                    <path
                                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.4 5M17 13l2.4 5M6 21a1 1 0 100-2 1 1 0 000 2zm12 0a1 1 0 100-2 1 1 0 000 2z" />
                                </svg>
                                <span class="flex flex-col">
                                    <span>Buy Now - Cash on Delivery</span>
                                    <span class="text-sm opacity-80">Only A Few Left - Don't Miss Out</span>
                                </span>
                            </button>
                        </div>

                        <!-- Links -->
                        <div class="my-2">
                            <div class="flex flex-wrap justify-between items-center mx-auto gap-4">
                                <a href="/product/<%= product?.sku %>"
                                    class="inline-flex items-center gap-2 text-gray-800 hover:text-orange-500">
                                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                                        <path
                                            d="M342.6 73.4C330.1 60.9 309.8 60.9 297.3 73.4L169.3 201.4C156.8 213.9 156.8 234.2 169.3 246.7C181.8 259.2 202.1 259.2 214.6 246.7L288 173.3L288 384C288 401.7 302.3 416 320 416C337.7 416 352 401.7 352 384L352 173.3L425.4 246.7C437.9 259.2 458.2 259.2 470.7 246.7C483.2 234.2 483.2 213.9 470.7 201.4L342.7 73.4zM160 416C160 398.3 145.7 384 128 384C110.3 384 96 398.3 96 416L96 480C96 533 139 576 192 576L448 576C501 576 544 533 544 480L544 416C544 398.3 529.7 384 512 384C494.3 384 480 398.3 480 416L480 480C480 497.7 465.7 512 448 512L192 512C174.3 512 160 497.7 160 480L160 416z" />
                                    </svg>
                                    Share
                                </a>
                                <a href="/product/<%= product?.sku %>"
                                    class="inline-flex items-center gap-2 text-gray-800 hover:text-orange-500">
                                    View full details
                                    <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
                                        <path
                                            d="M371.8 82.4C359.8 87.4 352 99 352 112L352 192L240 192C142.8 192 64 270.8 64 368C64 481.3 145.5 531.9 164.2 542.1C166.7 543.5 169.5 544 172.3 544C183.2 544 192 535.1 192 524.3C192 516.8 187.7 509.9 182.2 504.8C172.8 496 160 478.4 160 448.1C160 395.1 203 352.1 256 352.1L352 352.1L352 432.1C352 445 359.8 456.7 371.8 461.7C383.8 466.7 397.5 463.9 406.7 454.8L566.7 294.8C579.2 282.3 579.2 262 566.7 249.5L406.7 89.5C397.5 80.3 383.8 77.6 371.8 82.6z" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                </div>
                <% }) %>
        </main>

        <%- include("./partial/footer") %>
</body>

</html>